(this.webpackJsonpslider=this.webpackJsonpslider||[]).push([[0],{18:function(e,t,o){e.exports=o(42)},23:function(e,t,o){},41:function(e,t,o){},42:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),a=o(16),s=o.n(a),i=(o(23),o(2)),c=o(3),l=o(5),u=o(4),p=o(17),h=o.n(p),m=(o(41),o(6)),d=function(e){Object(l.a)(o,e);var t=Object(u.a)(o);function o(e){var n;return Object(i.a)(this,o),(n=t.call(this,e)).katt=function(){n.props.parentCallback(n.props.index)},n.getCoords=n.getCoords.bind(Object(m.a)(n)),n}return Object(c.a)(o,[{key:"getCoords",value:function(e,t,o){return{col:Math.floor(e/o),row:e%o}}},{key:"render",value:function(){var e=this,t=this.getCoords(this.props.index,this.props.rows,this.props.cols),o={position:"absolute",border:"1px solid white",backgroundClip:"content-box",backgroundRepeat:"no-repeat",width:this.props.img.width/4,height:this.props.img.height/4,backgroundPosition:this.props.backgroundPos,backgroundImage:"url("+this.props.img.src+")",left:this.props.img.width/4*t.row,top:this.props.img.height/4*t.col,fontSize:"8px"},n=(this.props.hole,this.props.rows,this.props.cols,this.props.index,this.props.number);return r.a.createElement("div",{ref:this.props.innerRef,style:o,onClick:function(t){return e.katt(t)}},this.props.hole===n?"":n+1)}}]),o}(r.a.Component),f=function(e){Object(l.a)(o,e);var t=Object(u.a)(o);function o(e){var n;return Object(i.a)(this,o),(n=t.call(this,e)).checkSolved=function(e,t){for(var o=e.length;o--;)if(e[o]!==t[o])return!1;return!0},n.getCoords=function(e,t,o){return{col:Math.floor(e/o),row:e%o}},n.canMove=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.holePosition;if(e<0||e>=16)return!1;var o=t-e;return-1===o?e%n.props.rows!==0:1===o?t%n.props.rows!==0:Math.abs(o)===n.props.rows},n.getNewLayout=function(e,t,o){var n=(e=e.slice(0))[o];return e[o]=e[t],e[t]=n,e},n.swap=function(e){var t=n.state.numbers,o=n.state.holePosition;if(n.canMove(e)){var r=n.getNewLayout(t,e,o);n.setState((function(t){return{numbers:r,holePosition:e}}))}n.checkSolved(n.state.numbers,n.props.identifiers)&&n.setState((function(e){return{solved:!0}}))},n.shuffle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.numbers;n.setState((function(e){return{solved:!1}}));for(var o,r=[-4,4,-1,1],a=n.state.holePosition,s=t.slice(0);e<80;){var i=r[Math.floor(Math.random()*r.length)];o=a+i,n.canMove(o,a)&&(s=n.getNewLayout(s,o,a),a=o,e++)}n.setState((function(e){return{numbers:s,holePosition:o}})),n.checkSolved(n.state.numbers,n.props.identifiers)&&n.setState((function(e){return{solved:!0}}))},n.getBackgroundPos=function(e,t){var o=n.getCoords(e,n.props.rows,n.props.cols);return o.row*=-1,o.col*=-1,t.width/4*o.row+"px"+" "+(t.height/4*o.col+"px")},n.reRenderWhenSolved=function(){n.setState((function(e){return{solved:!1}})),n.shuffle()},n.state={shiftCounter:0,checkSolved:n.checkSolved.bind(Object(m.a)(n)),solved:!1,numbers:n.props.numbers,holePosition:n.props.numbers.indexOf(n.props.hole),image:"https://unsplash.it/400/400"},n}return Object(c.a)(o,[{key:"componentDidMount",value:function(){this.shuffle()}},{key:"render",value:function(){var e=this,t=new Image;t.src=this.props.image,t.width=400,t.height=400;var o=new Image;if(o.src="https://i.pinimg.com/736x/25/10/1f/25101f6abb216898babcb5498197f5cb.jpg",this.state.solved){return r.a.createElement("div",{style:{position:"absolute",width:"50vw",left:"25vw"}},r.a.createElement("img",{alt:"yay",src:"https://media.giphy.com/media/yoJC2GnSClbPOkV0eA/source.gif"}),r.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.reRenderWhenSolved(t)}},"New game with same image"),r.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),e.props.parentCallback()}},"Get new image"))}return r.a.createElement("div",{style:{width:"400px",height:"400px",position:"relative"}},this.state.numbers.map((function(n,a){return r.a.createElement(d,{rows:e.props.rows,cols:e.props.cols,img:n===e.props.hole?o:t,backgroundPos:e.getBackgroundPos(n,t),index:e.props.identifiers[a],number:n,key:e.props.identifiers[a],parentCallback:e.swap,hole:e.props.hole})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.checkSolved(t.numbers,e.identifiers)?{solved:!0}:null}}]),o}(r.a.Component),g=function(e){Object(l.a)(o,e);var t=Object(u.a)(o);function o(){return Object(i.a)(this,o),t.apply(this,arguments)}return Object(c.a)(o,[{key:"render",value:function(){var e=this;return r.a.createElement("img",{src:this.props.src,className:this.props.className,onClick:function(t){return e.props.click(e.props.src)},alt:"please choose me"})}}]),o}(r.a.Component),v=function(e){Object(l.a)(o,e);var t=Object(u.a)(o);function o(e){var n;return Object(i.a)(this,o),(n=t.call(this,e)).start=function(e){n.setState((function(t){return{gameOn:!0,image:e}}))},n.getSquareImagesFromFlickr=function(e){try{return h.a.get(e)}catch(t){console.error(t)}},n.setImages=function(){n.setState((function(e){return{gameOn:!1,images:[],ready:!1}})),console.log("go");for(var e=6,t=[],o="https://api.flickr.com/services/rest/?method=flickr.groups.pools.getPhotos&api_key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/tilitoli",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FLICKR_API_KEY,"&group_id=").concat("17449586@N00","&extras=url_w&per_page=").concat(100,"&page=1&format=json&nojsoncallback=1");e>0;)t.push(Math.floor(100*Math.random())),e-=1;n.getSquareImagesFromFlickr(o).then((function(e){var o=t.map((function(t){return e.data.photos.photo[t].url_w}));n.setState((function(e){return{images:o,ready:!0}}))})).catch((function(e){console.log(e)}))},n.resizeImages=function(e){},n.state={image:"https://source.unsplash.com/random/400x400",images:[],ready:!1,gameOn:!1,solved:!1},n}return Object(c.a)(o,[{key:"componentDidMount",value:function(){this.setImages()}},{key:"render",value:function(){var e=this;return this.state.gameOn?r.a.createElement("div",{className:"wrapper"},r.a.createElement(f,{rows:4,cols:4,numbers:[0,1,2,3,4,5,6,7,8,9,10,15,12,13,14,11],hole:15,identifiers:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],image:this.state.image,parentCallback:this.setImages})):this.state.ready?r.a.createElement("div",{className:"imageOptionWrapper"},r.a.createElement("div",{className:"top"},"Dili-Toli!"),this.state.images.map((function(t,o){return r.a.createElement(g,{key:o,src:t,className:"option".concat(o),click:e.start})})),r.a.createElement("div",{className:"bottom",onClick:function(t){return e.setImages(t)}},"Get new images")):r.a.createElement("div",{className:"wrapper"},r.a.createElement("img",{className:"spinner",alt:"puzzle-shaped loading spinner"}))}}]),o}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.4a4a2d52.chunk.js.map